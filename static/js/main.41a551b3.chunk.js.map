{"version":3,"sources":["bulb.png","About.js","Bulb.js","Header.js","Info.js","Geolocator.js","DataImporter.js","TimeSlider.js","App.js","serviceWorker.js","index.js"],"names":["module","exports","About","id","style","background","className","React","Component","Bulb","props","renderCustomizedLabel","cx","cy","midAngle","innerRadius","outerRadius","percent","index","fill","fillOpacity","RADIAN","Math","PI","radius","ax","cos","ay","sin","bx","by","zx","sign","x","y","d","strokeWidth","stroke","textAnchor","dominantBaseline","data","name","fontSize","fontWeight","toFixed","state","activeIndex","src","BulbImage","width","aspect","isAnimationActive","animationDuration","this","animationEasing","onClick","onSourceClick","labelLine","label","map","entry","length","color","Header","onAboutClick","e","showAbout","aboutBackdrop","document","getElementById","addEventListener","eventObject","getComputedStyle","target","opacity","Info","infoBoxClosed","onInfoBoxClose","infoBoxShouldClose","backdropAnimation","boxAnimation","documentElement","infoData","class","viewBox","PriceArea","ElectricityProductionDataQuery","callback","$","ajax","url","dataType","cache","success","console","log","result","total","dataRecords","records","sort","a","b","Date","HourDK","dataValues","dataDates","importedDataRow","value","Biomass","FossilGas","FossilHardCoal","FossilOil","HydroPower","OtherRenewable","SolarPower","Waste","OnshoreWindPower","OffshoreWindPower","ExchangeContinent","ExchangeNordicCountries","totalValue","i","max","otherData","push","FormatProductionData","error","warn","TimeSlider","componentDidMount","flkty","on","onTimeSliderChange","selectedIndex","componentWillUnmount","off","flickityRef","c","options","prevNextButtons","pageDots","initialIndex","dates","date","Time","slice","App","priceAreaWasDecided","handleData","setState","dataIndex","sourceData","showInfo","Boolean","window","location","hostname","match","ReactDOM","render","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/main.41a551b3.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/bulb.c2af69a6.png\";","import React from 'react';\r\nimport './About.css';\r\nimport './Info.css'\r\n\r\nclass About extends React.Component {\r\n    render() {\r\n        return (\r\n            <div>\r\n                <div id=\"about-backdrop\" style={{background: \"var(--light)\"}} className=\"backdrop info-backdrop-start-animation\">\r\n                    <div className=\"about-text\">\r\n                        <h2 className=\"title\"> Vores strøm.</h2>\r\n\r\n                        <p className=\"body\"> \r\n                        Among design professionals, there's a bit of controversy surrounding the filler text. Controversy, as in Death to Lorem Ipsum. \r\n                        <br></br><br></br>\r\n\r\n                        The strength of lorem ipsum is its weakness: it doesn't communicate. To some, designing a website around placeholder text is unacceptable, akin to sewing a custom suit without taking measurements. Kristina Halvorson notes:\r\n\r\n                        <br></br><br></br>\r\n\r\n                        “I’ve heard the argument that “lorem ipsum” is effective in wireframing or design because it helps people focus on the actual layout, or color scheme, or whatever. What kills me here is that we’re talking about creating a user experience that will (whether we like it or not) be DRIVEN by words. The entire structure of the page or app flow is FOR THE WORDS.”\r\n                        Lorem ipsum is so ubiquitous because it is so versatile. Select how many paragraphs you want, copy, paste, and break the lines wherever it is convenient. Real copy doesn't work that way.\r\n\r\n                        <br></br><br></br>\r\n\r\n                        As front-end developer Kyle Fiedler put it:\r\n\r\n                        <br></br><br></br>\r\n\r\n                        “When you are designing with Lorem Ipsum, you diminish the importance of the copy by lowering it to the same level as any other visual element. The text simply becomes another supporting role, serving to make other aspects more aesthetic. Instead of your design enhancing the meaning of the content, your content is enhancing your design.”\r\n                        But despite zealous cries for the demise of lorem ipsum, others, such as Karen McGrane, offer appeals for moderation:\r\n\r\n                        <br></br><br></br>\r\n\r\n                        “Lorem Ipsum doesn’t exist because people think the content is meaningless window dressing, only there to be decorated by designers who can’t be bothered to read. Lorem Ipsum exists because words are powerful. If you fill up your page with draft copy about your client’s business, they will read it. They will comment on it. They will be inexorably drawn to it. Presented the wrong way, draft copy can send your design review off the rails.”\r\n                        And that’s why a 15th century typesetter might have scrambled a passage of Cicero; he wanted people to focus on his fonts, to imagine their own content on the pages. He wanted people to see, and to get them to see he had to keep them from reading.\r\n                        </p>\r\n                    </div>\r\n                </div>\r\n           \r\n                \r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default About;","import React from 'react';\r\nimport './App.css';\r\nimport'./Bulb.css';\r\nimport BulbImage from './bulb.png';\r\nimport {PieChart, Pie, ResponsiveContainer, Cell, Sector} from 'recharts';\r\n\r\nclass Bulb extends React.Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            activeIndex: -1,\r\n        }\r\n    }\r\n\r\n    renderCustomizedLabel = ({cx, cy, midAngle, innerRadius, outerRadius, percent, index, fill, fillOpacity}) => {\r\n        if (percent < 0.025) \r\n            return;\r\n        \r\n        const RADIAN = Math.PI / 180;\r\n        const radius = innerRadius + (outerRadius - innerRadius);\r\n        \r\n        const ax = cx + 0.9 * radius * Math.cos(-midAngle * RADIAN);\r\n        const ay = cy + 0.9 * radius * Math.sin(-midAngle * RADIAN);\r\n        \r\n        const bx = cx + 1.1 * radius * Math.cos(-midAngle * RADIAN);\r\n        const by = cy + 1.1 * radius * Math.sin(-midAngle * RADIAN);\r\n\r\n        const zx = cx + 1.2 * radius * Math.sign(Math.cos(-midAngle * RADIAN));\r\n\r\n        const x = cx + 0.6 * radius * Math.cos(-midAngle * RADIAN);\r\n        const y = cy + 0.6 * radius * Math.sin(-midAngle * RADIAN);\r\n\r\n        return (\r\n            <g className=\"fade-in\">\r\n                <path d={`M${ax},${ay}Q${bx},${by},${zx},${by}`} strokeWidth=\"2\" stroke={fill} fill='none'/>\r\n                <text x={zx + 0.005 * cx * Math.sign(Math.cos(-midAngle * RADIAN))} y={by} fill={fill} textAnchor={zx > cx ? 'start' : 'end'} dominantBaseline=\"central\">\r\n                {`${this.props.data[index].name}`}\r\n                </text>\r\n                <text x={x} y={y} fill='white' fillOpacity=\"0.30\" textAnchor={'middle'} fontSize={\"3vmin;\"} fontWeight=\"600\" dominantBaseline=\"central\">\r\n                    {`${(percent * 100).toFixed(0)}%`}\r\n                </text>\r\n            </g>\r\n        );\r\n    };\r\n\r\n    render() {\r\n        return (\r\n            <div className=\"center\">\r\n                <img id=\"bulb\" src={BulbImage}></img>\r\n                <ResponsiveContainer id=\"pie-chart-container\" width=\"200%\" aspect={1}>\r\n                    <PieChart id=\"pie-svg\">\r\n                        <Pie \r\n                            isAnimationActive={true} \r\n                            animationDuration={800}\r\n                            data={this.props.data} \r\n                            outerRadius=\"47.5%\"\r\n                            animationEasing = 'ease'\r\n                            stroke = \"#fefcad\"\r\n                            strokeWidth = \"0.3%\"\r\n                            onClick = {this.props.onSourceClick}\r\n                            labelLine = {false}\r\n                            label = {this.renderCustomizedLabel}\r\n                        >\r\n                            {\r\n                                this.props.data.map((entry, index) => <Cell fill={this.props.data[index % this.props.data.length].color}/>)\r\n                            }\r\n                        </Pie>\r\n                    </PieChart>\r\n                </ResponsiveContainer>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default Bulb;","import React from 'react';\r\nimport './Header.css';\r\n\r\n\r\nclass Header extends React.Component {\r\n\r\n    onAboutClick = (e) => {\r\n        if (this.props.showAbout) {\r\n            const aboutBackdrop = document.getElementById('about-backdrop');\r\n\r\n            aboutBackdrop.addEventListener('animationend', (eventObject) => {\r\n                if (getComputedStyle(eventObject.target).opacity == 0) {\r\n                    this.props.onAboutClick(false);\r\n                }\r\n            });\r\n\r\n            aboutBackdrop.className += \" info-backdrop-end-animation\"\r\n        } else {\r\n            if (e.target.id != \"title\")\r\n                this.props.onAboutClick(true);\r\n        } \r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className=\"header\"> \r\n                <nav className=\"site-nav wrapper\">\r\n                    <a className=\"site-title page-link active\" id=\"title\" onClick={this.onAboutClick}>Vores Strøm</a>\r\n                    <a className=\"page-link \" onClick={this.onAboutClick}>Om projektet</a>\r\n                </nav>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\n\r\n\r\n\r\nexport default Header;","import React from 'react';\r\nimport './Info.css';\r\n\r\nclass Info extends React.Component {\r\n\r\n    componentWillMount() {\r\n        document.documentElement.style=\"--header-text-color: var(--light);\"\r\n    }\r\n\r\n    componentDidMount() {\r\n        const boxAnimation = document.getElementById('info-box');\r\n\r\n        boxAnimation.addEventListener('animationend', (eventObject) => {\r\n            if (getComputedStyle(eventObject.target).opacity == 0) {\r\n                this.infoBoxClosed();\r\n            }\r\n        });\r\n    }\r\n\r\n    infoBoxClosed = () => {\r\n        this.props.onInfoBoxClose();\r\n    }\r\n\r\n    infoBoxShouldClose = () => {\r\n        const backdropAnimation = document.getElementById('info-backdrop');\r\n        const boxAnimation = document.getElementById('info-box');\r\n\r\n        backdropAnimation.className += \" info-backdrop-end-animation\"\r\n        boxAnimation.className += \" info-box-end-animation\"\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div>\r\n                <div id=\"info-backdrop\" style={{background: this.props.infoData.fill}} className=\"backdrop info-backdrop-start-animation\" onClick={this.infoBoxShouldClose}></div>\r\n                \r\n                <div id=\"info-box\" className=\"info-box info-box-start-animation\"> \r\n                    <div className=\"header\">\r\n                        <div className=\"site-nav wrapper\">\r\n                            <div className=\"close\" onClick={this.infoBoxShouldClose}>\r\n                                <svg class=\"svg-icon\" viewBox=\"0 0 20 20\">\r\n                                    <path fill=\"none\" d=\"M15.898,4.045c-0.271-0.272-0.713-0.272-0.986,0l-4.71,4.711L5.493,4.045c-0.272-0.272-0.714-0.272-0.986,0s-0.272,0.714,0,0.986l4.709,4.711l-4.71,4.711c-0.272,0.271-0.272,0.713,0,0.986c0.136,0.136,0.314,0.203,0.492,0.203c0.179,0,0.357-0.067,0.493-0.203l4.711-4.711l4.71,4.711c0.137,0.136,0.314,0.203,0.494,0.203c0.178,0,0.355-0.067,0.492-0.203c0.273-0.273,0.273-0.715,0-0.986l-4.711-4.711l4.711-4.711C16.172,4.759,16.172,4.317,15.898,4.045z\"></path>\r\n                                </svg>\r\n                            </div> \r\n                        </div>\r\n                    </div>\r\n                    \r\n                </div>\r\n            </div>\r\n\r\n        );\r\n    }\r\n}\r\n\r\nexport default Info;","import $ from \"jquery\";\r\n\r\nvar PriceArea = \"DK1\";\r\n\r\nfunction GetGeolocationFromIp(callback) {\r\n    $.ajax({\r\n        url: 'http://ip-api.com/json/?fields=49186',\r\n        dataType: 'json',\r\n        cache: true,\r\n        success: function(data) {\r\n            GetPriceArea(data, callback);\r\n        },\r\n        error: function() {\r\n            console.warn(\"GetGeolocationFromIp return an error!\");\r\n        }\r\n    });\r\n}\r\n\r\nfunction GetPriceArea(data, callback) {\r\n    var zipcode = parseInt(data.zip);\r\n\r\n    if (zipcode < 5000)\r\n        PriceArea = \"DK1\";\r\n    else \r\n        PriceArea = \"DK2\";\r\n\r\n    callback();\r\n}\r\n\r\nexport {GetGeolocationFromIp, PriceArea};\r\n\r\n\r\n","import $ from \"jquery\";\r\nimport {PriceArea} from './Geolocator';\r\n\r\nfunction ElectricityProductionDataQuery(callback) {\r\n\r\n    $.ajax({\r\n        url: 'https://api.energidataservice.dk/datastore_search_sql?sql=SELECT * from \"electricitybalancenonv\" WHERE \"PriceArea\" = \\'' + PriceArea + '\\' AND \"TotalLoad\" >= 0 ORDER BY \"HourUTC\" DESC LIMIT 24',\r\n        dataType: 'jsonp',\r\n        cache: true,\r\n        success: function(data) {\r\n            console.log('Total results found: ' + data.result.total)\r\n\r\n            FormatProductionData(data, callback);\r\n        },\r\n        error: function() {\r\n            console.warn(\"ElectricityProductionDataQuery return an error!\");\r\n        }\r\n        \r\n    });\r\n}\r\n\r\nfunction FormatProductionData(data, callback) {\r\n    // This function should be formatting all production data. And return an array of data from different points in time\r\n    console.log(data);\r\n\r\n    const dataRecords = data.result.records.sort(function(a,b) {\r\n        return new Date(a.HourDK) - new Date(b.HourDK);\r\n    })\r\n\r\n    var dataValues = [];\r\n    var dataDates = [];\r\n\r\n    for(var e = 0; e < dataRecords.length; e++) {\r\n        var importedDataRow = [\r\n            {name: \"Biomasse\", value:  dataRecords[e].Biomass, color: \"#2ed573\"},\r\n            {name: \"Fossil Gas\", value: dataRecords[e].FossilGas, color: \"#ff7f50\"},\r\n            {name: \"Fossil Kul\", value: dataRecords[e].FossilHardCoal, color: \"#0D1321\"},\r\n            {name: \"Fossil Olie\", value: dataRecords[e].FossilOil, color: \"#0D1321\"},\r\n            {name: \"Vandkraft\", value: dataRecords[e].HydroPower, color: \"#5EB1BF\"},\r\n            {name: \"Andet vedvarende\", value: dataRecords[e].OtherRenewable, color: \"#56E39F\"}, /* 587B7F */\r\n            {name: \"Solenergi\", value: dataRecords[e].SolarPower, color: \"#F28F3B\"},\r\n            {name: \"Affald\", value: dataRecords[e].Waste, color: \"#ffa502\"},\r\n            {name: \"Vind over land\", value: dataRecords[e].OnshoreWindPower, color: \"#70a1ff\"},\r\n            {name: \"Vind over hav\", value: dataRecords[e].OffshoreWindPower, color: \"#3742fa\"},\r\n            {name: \"Import Europa\", value: dataRecords[e].ExchangeContinent, color: \"#1e90ff\"},\r\n            {name: \"Import Norden\", value: dataRecords[e].ExchangeNordicCountries, color: \"#5352ed\"}\r\n        ];\r\n\r\n        var totalValue = 0;\r\n\r\n        for(var i = 0; i < importedDataRow.length; i++) {\r\n            importedDataRow[i].value = Math.max(0,importedDataRow[i].value);\r\n\r\n            totalValue += importedDataRow[i].value;\r\n        }\r\n\r\n        const cutoff = 0.025;\r\n        var otherData = {name: \"Andre\", value: 0, color: '#57606f'};\r\n\r\n        for(var i = 0; i < importedDataRow.length; i++) {\r\n            if (importedDataRow[i].value/totalValue < cutoff) {\r\n                otherData.value += importedDataRow[i].value;\r\n                importedDataRow[i].value = 0;\r\n            }\r\n        }\r\n\r\n        importedDataRow.push(otherData);\r\n\r\n        dataValues.push(importedDataRow);\r\n        dataDates.push(dataRecords[e].HourDK);\r\n    }\r\n\r\n    callback({dataValues: dataValues, dataDates: dataDates});\r\n}\r\n\r\nexport default ElectricityProductionDataQuery;\r\n\r\n\r\n","import React from 'react';\r\nimport './TimeSlider.css';\r\nimport Flickity from 'react-flickity-component';\r\n\r\n\r\n\r\nclass TimeSlider extends React.Component {\r\n    componentDidMount = () => {\r\n        // You can register events in componentDidMount hook\r\n        this.flkty.on('settle', () => {\r\n            this.props.onTimeSliderChange(this.flkty.selectedIndex);\r\n        })\r\n    }\r\n\r\n    componentWillUnmount = () => {\r\n        this.flkty.off('settle');\r\n    }\r\n     \r\n    \r\n    render() {\r\n        return(\r\n            <Flickity\r\n                flickityRef={c => this.flkty = c}\r\n                className={'carousel'}\r\n                options={{\r\n                    prevNextButtons: false,\r\n                    pageDots: false,\r\n                    initialIndex: this.props.dates.length-1\r\n                }}\r\n            >   \r\n                {\r\n                    this.props.dates.map(date => (\r\n                        <Time date={date}></Time>\r\n                    ))\r\n                }\r\n            </Flickity>\r\n        );\r\n    }\r\n}\r\n\r\nclass Time extends React.Component {\r\n    render() {\r\n        return(\r\n            <div className=\"carousel-cell\">\r\n                <div className=\"carousel-cell-hours\"> \r\n                    {this.props.date.slice(11,16)}\r\n                </div>\r\n                <div className=\"carousel-cell-date\"> \r\n                    {this.props.date.slice(5,10)}\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default TimeSlider;","import React from 'react';\nimport './App.css';\nimport About from './About';\nimport Bulb from './Bulb';\nimport Header from './Header'\nimport Info from './Info';\nimport ElectricityProductionDataQuery from './DataImporter';\nimport {GetGeolocationFromIp} from './Geolocator.js';\nimport TimeSlider from './TimeSlider';\n\nclass App extends React.Component {\n\n\tconstructor(props) {\n        super(props);\n        this.state = {\n\t\t\tdata: null,\n\t\t\tinfoData: null,\n\t\t\tshowInfo: false,\n\t\t\tdataIndex: 0,\n\t\t\tshowAbout: false\n        };\n    }\n    \n\tcomponentDidMount() {\n\t\t// GetGeolocationFromIp(this.priceAreaWasDecided);\n\t\tElectricityProductionDataQuery(this.handleData);\n\t}\n\n\tpriceAreaWasDecided = () => {\n\t\tElectricityProductionDataQuery(this.handleData);\n\t}\n\n  \thandleData = (data) => {\n\t\tthis.setState({\n\t\t\tdata: data,\n\t\t\tdataIndex: data.dataValues.length-1\n\t\t});\n\t}\n\n\tonSourceClick = (sourceData) => {\n\t\tthis.setState({\n\t\t\tinfoData: sourceData,\n\t\t\tshowInfo: true\n\t\t})\n\t}\n\n\tonAboutClick = (showAbout) => {\n\t\tthis.setState({\n\t\t\tshowAbout: showAbout\n\t\t})\n\n\t\tif (showAbout) \n\t\t\tthis.onInfoBoxClose();\n\t}\n\n\tonTimeSliderChange = (index) => {\n\t\tthis.setState({dataIndex: index}); \n\t}\n\n\tonInfoBoxClose = () => {\n\t\tdocument.documentElement.style = \".info-box-animation\"\n\n\t\tthis.setState({\n\t\t\tshowInfo: false\n\t\t})\n\t}\n\n  \trender() {\n\t\t\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t<Header showAbout={this.state.showAbout} onAboutClick={this.onAboutClick}></Header>\n\n\t\t\t\t{this.state.data ? \n\t\t\t\t\t<Bulb data={this.state.data.dataValues[this.state.dataIndex]} onSourceClick={this.onSourceClick}></Bulb>\t\n\t\t\t\t:\n\t\t\t\t\tnull\n\t\t\t\t}\n\n\t\t\t\t{this.state.data ? \n\t\t\t\t\t<TimeSlider dates={this.state.data.dataDates} onTimeSliderChange={this.onTimeSliderChange}></TimeSlider>\n\t\t\t\t:\n\t\t\t\t\tnull\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t{this.state.showInfo ? \n\t\t\t\t\t<Info infoData={this.state.infoData} onInfoBoxClose={this.onInfoBoxClose}></Info>\t\n\t\t\t\t:\n\t\t\t\t\tnull\n\t\t\t\t}\n\n\t\t\t\t{this.state.showAbout ? \n\t\t\t\t\t<About></About>\n\t\t\t\t:\n\t\t\t\t\tnull\n\t\t\t\t}\n\t\t\t</div>\n\t\t);\n  \t}\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\n\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n\n"],"sourceRoot":""}